<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>

<html lang="pt-br"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui = "http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
       
    <h:head>
        <title>Cadastro Pessoa::EventosIFF</title>
    </h:head>
    
    <ui:composition template="template.xhtml">
        <ui:define name="corpo">                                
            
            <div style="margin: 0 5% 0 25%" class="w3-card-4">                
                <div class="w3-container w3-black">
                    <h2>Cadastro</h2>
                </div>
                <h:form>                                        
                    <div class="w3-container">
                        <div class="addMargin">
                            <h:outputLabel for="nome" value="Nome: "/>
                            <h:inputText id="nome" value="#{pessoaBean.nome}" required="true" label="Nome"
                                         style="width: 30%" class="w3-input w3-animate-input" 
                                         requiredMessage="Você deve informar seu nome">                                
                            </h:inputText>
                        </div>                    
                   
                        <div class="addMargin">
                            <div class="addMargin">
                                <h:outputLabel for="email" value="Email: "/>
                                <h:inputText id="email" value="#{pessoaBean.email}" required="true" label="Email"
                                             style="width: 30%" class="w3-input w3-animate-input"
                                             requiredMessage="Você deve informar seu e-mail">                                    
                                    <f:validator validatorId="br.edu.eventos.validadores.EmailDuplicado"/>
                                </h:inputText>
                            </div>
                        </div>
                        
                        <div class="addMargin">
                            <h:outputLabel for="cpf" value="CPF: "/>
                            <h:inputText id="cpf" value="#{pessoaBean.cpf}" required="true" label="CPF" onkeypress="MascaraCPF(this, '###.###.###-##');" maxlength="14"
                                         style="width: 30%" class="w3-input" 
                                         requiredMessage="Você deve informar seu CPF"/>                                                                                    
                        </div>
                            
                        <h:panelGrid rendered="#{regrasBean.verificaAdministrador()}">
                            <div class="addMargin">
                                <h:outputLabel for="perfil" value="Perfil: " />
                                <h:selectOneMenu class="w3-select" id="perfil" value="#{pessoaBean.perfil}" required="true" requiredMessage="A escolha do perfil é obrigatório">                                
                                    <f:selectItem itemValue="" itemLabel="Selecione seu perfil"/>
                                    <f:selectItems value="#{pessoaBean.perfis()}" var="p" itemValue="#{p}" />
                                </h:selectOneMenu>
                            </div>                        
                        </h:panelGrid>
                        
                        <div class="addMargin">
                            <h:outputLabel for="instituicao" value="Instituição: "/>
                            <h:inputText id="instituicao" value="#{pessoaBean.instituicao}" required="true" label="Instituição: "
                                         style="width: 30%" class="w3-input w3-animate-input"
                                         requiredMessage="Você deve informar a sua instituição"/>
                        </div>                                                                        
                        
                        <div class="addMargin">
                            <h:outputLabel for="senha" value="Senha: "/>
                            <h:inputSecret id="senha" value="#{pessoaBean.senha}" required="true" label="Senha: " 
                                           style="width: 30%" class="w3-input" 
                                           requiredMessage="Você deve informar sua senha" />                
                        </div>
                        
                        <div class="addMargin">
                            <h:commandButton value="Salvar" action="#{pessoaBean.salvar()}" class="w3-btn w3-black">
                                
                            </h:commandButton>
                        </div>
                    </div>                    
                </h:form>
            </div>
        </ui:define>
        
    </ui:composition>
</html>